<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>weather</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>

<!-- Popper JS -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="images/logo.png" type="images/png">
</head>
<body>
    <div class="container-fluid main_menu navo">
        <div class="row">
            <div class="col-md-10 col-12 mx-auto">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <img src="https://drive.google.com/uc?export=view&id=1l4lb2xFAqTQZjl2X1nt-rlkzkz5VQ_m5" alt="Zulpesky logo" style="width: 150px; margin: 0;">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>
                  
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                      <ul class="navbar-nav ml-auto">
                        <li class="nav-item active">
                          <a class="nav-link"  href="index.html">Home </a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" style="font-weight: bold;" href="weather.html"><span style="color: #011b1b; text-decoration: underline;">Weather</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" style="font-weight: bold;" href="about.html">About Us</a>
                        </li>
                      </ul>
                    </div>
                  </nav>
            </div>
        </div>
    </div>

    <!-- main content -->
    <div class="container-fluid main_header">
        <div class="row">
            <div class="col-md-10 col-12 mx-auto">
                <center>
                    <div class="main_content">
                            <form class="form-inline my-2 my-lg-0">
                                <input class="form-control mr-sm-2" id="cityName"  type="search" placeholder="Enter your city name" aria-label="Search">
                                <button class="btn btn-outline-primary my-2 my-sm-0" id="submitBtn" type="submit">Search</button>
                            </form>
                    </div>
                    
                </center>
               <div class="tempinformation">
                    <div class="top_layer">
                        <p id="day">Tuesday</p>
                        <p id="today_date">13 OCT</p>
                    </div>
                    <div class="main_layer">
                        <p id="city_name">Your city</p>
                        <div class="middle_layer data_hide">
                            
                            <p ><span id="temp">--</span><span>&#8451;</span></p>
                            <p id="temp_status"><i class="fa fa-stethoscope" aria-hidden="true" style="color: white;"></i></p>
                        </div>
                    </div>
               </div>
            </div>
        </div>
    </div>

    <!-- footer -->
    <footer class="footer" style="background-color: rgb(75, 73, 73);">
    
    
        <ul class="menu">
            <li class="menu__item"><a class="menu__link" href="#"><img style="-webkit-filter: drop-shadow(5px 5px 6px #030303);filter: drop-shadow(5px 5px 5px #222); width: 80%;" src="images/facebook.png" alt=""></a></li>
            <li class="menu__item"><a class="menu__link" href="https://www.instagram.com/time_limit_exceed_/"><img style="-webkit-filter: drop-shadow(5px 5px 6px #030303);filter: drop-shadow(5px 5px 5px #222); width: 80%;" src="images/instgram.png" alt=""></a></li>
            <li class="menu__item"><a class="menu__link" href="https://www.linkedin.com/in/gajananzulpe23/"><img style="-webkit-filter: drop-shadow(5px 5px 6px #030303);filter: drop-shadow(5px 5px 5px #222); width: 80%;" src="images/linkedin.png" alt=""></a></li>
            <li class="menu__item"><a class="menu__link" href="https://twitter.com/gajananzulpe23"><img style="-webkit-filter: drop-shadow(5px 5px 6px #030303);filter: drop-shadow(5px 5px 5px #222); width: 80%;" src="images/twitter.png" alt=""></a></li>
    
    
        </ul>
        <p style="opacity: 0.75; font-size: 20px;">created with <span style="font-size:100%;color:red;">&hearts;</span> by gajananzulpe23</p>
        <p>© 2023 Copyright: <a class="text-white" href="#">gajananzulpe23.com</a></p> 
    </footer>
    <!-- <script src="js/main.js"></script> -->
    <script>
        console.log("hii")

        const submitBtn=document.getElementById('submitBtn')
        const city_name=document.getElementById('city_name')
        const cityName=document.getElementById('cityName')

        const temp=document.getElementById('temp')
        const temp_status=document.getElementById('temp_status')

        const getInfo = async(event) =>{
            event.preventDefault();
            let cityVal=cityName.value;
            console.log(`${cityVal}`)
            if(cityVal==""){
                city_name.innerText="Please Write The City Name First"
            }else{
                try{
                    console.log(`${cityVal}`)
                    let url=`https://api.openweathermap.org/data/2.5/weather?q=${cityVal}&units=metric&appid=d163d83318c632a518351613007acf80`
                    const response=fetch(url);
                    const data= await (await response).json()
                    const arrData=[data]
                    city_name.innerText=`${arrData[0].name} , ${arrData[0].sys.country }`
                    temp.innerText=arrData[0].main.temp;
                    const tempMood=arrData[0].weather[0].main
                    // temp.innerText=tempMood//comment kar
                    console.log(`${tempMood}`)
                    if (tempMood == "Clear") {
                        temp_status.innerHTML ="<i class='fas fa-cloud' style='color: #eccc68; title:Clear'></i>"; 
                    } else if (tempMood == "Clouds") {
                        temp_status.innerHTML ="<i class='fas fa-cloud' style='color: #f1f2f6;'></i>"; 
                    }else if (tempMood=="Rain") { 
                        temp_status.innerHTML ="<i class='fas fa-cloud-rain' style='color: #a4b0be;'></i>";
                    } else {
                        temp_status.innerHTML ="<i class='fas fa-cloud' style='color:#f1f2f6;'></i>";
                    // temp_status.innerHTML=
                    }
    
                }catch{
                    city_name.innerText="Please Enter Correct City Name "
                }
            }
        }
        const curDate=document.getElementById("day")
        const today_date=document.getElementById("today_date")
        const getCurrentDay= ()=>{
            const weekday = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
            var d = new Date();
            var obj =new Date();
            var month = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul","Aug", "Sep", "Oct", "Nov", "Dec"];
            var mnt=obj.getMonth();
            var day=obj.getDate();
            var year=d.getFullYear()
            console.log(day+" / "+month[mnt]+" / "+year)
            console.log(weekday[d.getDay()])
            return `${day} ${month[mnt]}  ${year} \ (►__◄) \ ${weekday[d.getDay()]}  `;
        }
        getCurrentDay()
        const getCurrentTime=()=>{
            var obj =new Date();
            
            let hours=obj.getHours();
            let mins=obj.getMinutes();
            let period="AM"
            if(hours>11){
                period="PM"
                if(hours>12){
                    hours-=12
                }
            } 
            if(mins<10){
                mins='0'+mins
            }
            return ` ${hours}:${mins}:${period}`
        }
        getCurrentTime()
        curDate.innerHTML=getCurrentDay();
        today_date.innerHTML=getCurrentTime()
        
        submitBtn.addEventListener('click',getInfo)
    </script>
</body>  
</html>